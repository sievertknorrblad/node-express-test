import { expect } from 'chai';
import {parseRate}Â from './exchanger';
import 'mocha';

describe('Test parse rate', () => {

  it('should extract swedish rate', () => {
    expect(9.097473).to.equal(parseRate("SEK", apiResponse));
  });

});

const apiResponse = `{
    "disclaimer": "Usage subject to terms: https://openexchangerates.org/terms",
    "license": "https://openexchangerates.org/license",
    "timestamp": 1534878000,
    "base": "USD",
    "rates": {
      "AED": 3.673175,
      "AFN": 72.655625,
      "ALL": 108.94,
      "AMD": 482.070551,
      "ANG": 1.845304,
      "AOA": 272.6065,
      "ARS": 29.997,
      "AUD": 1.357587,
      "AWG": 1.793003,
      "AZN": 1.7025,
      "BAM": 1.697804,
      "BBD": 2,
      "BDT": 83.818,
      "BGN": 1.70085,
      "BHD": 0.377232,
      "BIF": 1785.5,
      "BMD": 1,
      "BND": 1.510898,
      "BOB": 6.91095,
      "BRL": 4.028199,
      "BSD": 1,
      "BTC": 0.000155032109,
      "BTN": 69.843194,
      "BWP": 10.685474,
      "BYN": 2.043497,
      "BZD": 2.0103,
      "CAD": 1.304505,
      "CDF": 1616,
      "CHF": 0.985248,
      "CLF": 0.02338,
      "CLP": 663.9,
      "CNH": 6.828996,
      "CNY": 6.8479,
      "COP": 3019.577389,
      "CRC": 567.6328,
      "CUC": 1,
      "CUP": 25.5,
      "CVE": 95.8335,
      "CZK": 22.23275,
      "DJF": 178.05,
      "DKK": 6.445058,
      "DOP": 49.875,
      "DZD": 118.327268,
      "EGP": 17.868815,
      "ERN": 14.996633,
      "ETB": 27.594882,
      "EUR": 0.864014,
      "FJD": 2.113553,
      "FKP": 0.775034,
      "GBP": 0.775034,
      "GEL": 2.480242,
      "GGP": 0.775034,
      "GHS": 4.82,
      "GIP": 0.775034,
      "GMD": 48.105,
      "GNF": 9095,
      "GTQ": 7.504543,
      "GYD": 208.191471,
      "HKD": 7.849435,
      "HNL": 24.035,
      "HRK": 6.4121,
      "HTG": 67.001606,
      "HUF": 279.317945,
      "IDR": 14337.861583,
      "ILS": 3.63777,
      "IMP": 0.775034,
      "INR": 69.777751,
      "IQD": 1190,
      "IRR": 43163.642013,
      "ISK": 107.409958,
      "JEP": 0.775034,
      "JMD": 136.501089,
      "JOD": 0.709503,
      "JPY": 110.41101852,
      "KES": 100.93,
      "KGS": 68.137481,
      "KHR": 4070,
      "KMF": 426.871168,
      "KPW": 900,
      "KRW": 1116.3,
      "KWD": 0.303161,
      "KYD": 0.833548,
      "KZT": 361.284459,
      "LAK": 8515,
      "LBP": 1513.15,
      "LKR": 160.622654,
      "LRD": 154.612513,
      "LSL": 14.375,
      "LYD": 1.39,
      "MAD": 9.469992,
      "MDL": 16.682056,
      "MGA": 3307.99775,
      "MKD": 53.205,
      "MMK": 1512.215561,
      "MNT": 2442.166667,
      "MOP": 8.086503,
      "MRO": 357.5,
      "MRU": 35.9975,
      "MUR": 34.5,
      "MVR": 15.459996,
      "MWK": 727.269589,
      "MXN": 18.891559,
      "MYR": 4.097523,
      "MZN": 59.104802,
      "NAD": 14.465,
      "NGN": 361,
      "NIO": 31.815,
      "NOK": 8.407585,
      "NPR": 111.745669,
      "NZD": 1.494843,
      "OMR": 0.385014,
      "PAB": 1,
      "PEN": 3.299375,
      "PGK": 3.313752,
      "PHP": 53.390283,
      "PKR": 122.455,
      "PLN": 3.708117,
      "PYG": 5779.280492,
      "QAR": 3.6411,
      "RON": 4.011437,
      "RSD": 101.98,
      "RUB": 67.2379,
      "RWF": 865,
      "SAR": 3.75051,
      "SBD": 7.88911,
      "SCR": 13.589153,
      "SDG": 18.01,
      "SEK": 9.097473,
      "SGD": 1.365705,
      "SHP": 0.775034,
      "SLL": 8390,
      "SOS": 579,
      "SRD": 7.458,
      "SSP": 130.2634,
      "STD": 21050.59961,
      "STN": 21.44,
      "SVC": 8.752215,
      "SYP": 515.02499,
      "SZL": 14.455,
      "THB": 32.66925,
      "TJS": 9.424997,
      "TMT": 3.50998,
      "TND": 2.74861,
      "TOP": 2.310538,
      "TRY": 6.057927,
      "TTD": 6.74095,
      "TWD": 30.6555,
      "TZS": 2283.3,
      "UAH": 27.697,
      "UGX": 3763.053875,
      "USD": 1,
      "UYU": 31.713741,
      "UZS": 7804.997273,
      "VEF": 248471.708907,
      "VES": 2.48521,
      "VND": 23104.042672,
      "VUV": 108.499605,
      "WST": 2.588533,
      "XAF": 566.75627,
      "XAG": 0.06778754,
      "XAU": 0.00083826,
      "XCD": 2.70255,
      "XDR": 0.714736,
      "XOF": 566.75627,
      "XPD": 0.00108877,
      "XPF": 103.104339,
      "XPT": 0.00125867,
      "YER": 250.300682,
      "ZAR": 14.403442,
      "ZMW": 10.162447,
      "ZWL": 322.355011
    }
  }`;